import os
import httpx
from anthropic import Anthropic, HUMAN_PROMPT, AI_PROMPT

from dotenv import load_dotenv

load_dotenv()

PRICE_PROMPT = 1.102e-5
PRICE_COMPLETION = 3.268e-5
ANTHROPIC_API_KEY: str | None = os.getenv("ANTHROPIC_API_KEY")

print(f"ANTHROPIC_API_KEY: {ANTHROPIC_API_KEY}")

output_file_name = "code.txt"


def count_used_tokens(prompt, completion):
    prompt_token_count = anthropic.count_tokens(prompt)
    completion_token_count = anthropic.count_tokens(completion)

    prompt_cost = prompt_token_count * PRICE_PROMPT
    completion_cost = completion_token_count * PRICE_COMPLETION

    total_cost = prompt_cost + completion_cost

    return (
        "üü° Used tokens this round: "
        + f"Prompt: {prompt_token_count} tokens, "
        + f"Completion: {completion_token_count} tokens - "
        + f"{format(total_cost, '.5f')} USD)"
    )


with open("input.txt", "r", encoding="utf-8") as file:
    text = file.read()

anthropic = Anthropic(api_key=ANTHROPIC_API_KEY)

# TASK = """
# Por favor, analise a seguinte transcri√ß√£o de √°udio de uma reuni√£o e extraia as seguintes informa√ß√µes:

# 1. Itens acion√°veis:
#     1. Itens da agenda
#     2. Tarefas e delega√ß√µes
#     3. Reuni√µes e liga√ß√µes de acompanhamento
#     4. Prazos finais

# 2. Instru√ß√µes Diretas: Identifique quaisquer gatilhos de a√ß√£o presentes na transcri√ß√£o.

# 3. T√≥picos Discutidos: Liste os principais t√≥picos discutidos durante a reuni√£o.

# 4. Participantes: Identifique os participantes e analise o estilo de fala e as palavras usadas por eles. Separe por assuntos (assunto1, assunto2,‚Ä¶).

# 5. Decis√µes Tomadas: Registre todas as decis√µes tomadas durante a reuni√£o.

# 6. Pontos Principais: Destaque os pontos principais e principais ideias de cada t√≥pico.

# 7. Perguntas e Respostas: Documente quaisquer perguntas feitas e as respostas dadas.

# 8. Problemas e Solu√ß√µes: Identifique qualquer problema levantado e as solu√ß√µes propostas ou implementadas.

# 9. Dados de Suporte ou Evid√™ncias: Identifique quaisquer dados ou evid√™ncias que apoiem as decis√µes tomadas ou os pontos discutidos. Indique tamb√©m qualquer liga√ß√£o que possa estar faltando.

# 10. Emo√ß√µes: Descreva as emo√ß√µes exibidas pelos participantes durante a reuni√£o.

# 11. Consenso e Desacordos: Indique se houve consenso ou desacordos em rela√ß√£o √†s decis√µes ou t√≥picos.

# 12. Contexto da Reuni√£o: Forne√ßa quaisquer informa√ß√µes contextuais dispon√≠veis que possam ajudar a moldar a an√°lise.

# 13. An√°lise Sentimental: Fa√ßa uma an√°lise do sentimento geral em rela√ß√£o a certos t√≥picos ou decis√µes tomadas.

# 14. Linguagem Figurativa: Identifique e interprete quaisquer frases idiom√°ticas, met√°foras ou outras formas de linguagem figurativa.

# 15. Efic√°cia da Reuni√£o: Avalie qu√£o efetivamente o tempo foi usado e o quanto do conte√∫do da agenda foi coberto.

# 16. Aspectos Culturais: Identifique e compreenda quaisquer nuances culturais que possam influenciar a interpreta√ß√£o do texto.
# """

TASK = """
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1648 1271">
<path fill="#3b1d44" d="
  M 855.81 1054.56
  C 839.75 1069.73 823.42 1081.03 801.25 1083.50
  C 772.30 1086.72 743.78 1074.83 717.11 1065.31
  C 709.52 1062.61 703.11 1061.54 695.75 1062.75
  Q 689.71 1063.75 669.48 1068.14
  Q 612.76 1080.45 555.25 1088.23
  C 504.62 1095.07 457.36 1084.88 407.62 1070.56
  Q 370.03 1059.74 333.95 1044.53
  Q 322.40 1039.66 310.50 1035.75
  C 301.13 1032.67 291.35 1028.21 285.07 1019.73
  Q 283.66 1017.83 280.29 1010.75
  Q 276.74 1003.33 271.81 997.69
  C 257.10 980.86 246.69 963.75 238.17 943.47
  Q 199.14 850.58 166.00 749.00
  Q 156.77 720.69 151.77 702.86
  C 137.36 651.35 153.67 598.55 179.50 553.58
  Q 219.21 484.46 270.32 423.03
  Q 271.76 421.29 271.75 419.04
  C 271.65 403.31 279.63 393.97 294.26 389.86
  Q 299.28 388.45 303.69 383.69
  Q 345.44 338.53 403.24 282.99
  Q 456.70 231.62 511.20 181.35
  Q 520.92 172.38 526.44 168.42
  C 560.05 144.32 603.96 139.97 645.00 139.99
  Q 677.37 140.00 709.75 140.00
  C 712.78 140.00 716.81 140.48 720.75 140.50
  Q 736.28 140.58 751.82 140.74
  C 753.14 140.75 754.69 141.25 756.50 141.25
  C 764.84 141.25 773.20 141.19 781.49 141.44
  Q 880.21 144.42 978.80 150.15
  Q 978.86 150.16 990.71 150.75
  Q 1099.39 156.19 1180.37 226.76
  C 1251.03 288.33 1317.11 359.41 1375.59 432.61
  C 1396.22 458.41 1413.06 486.40 1424.69 516.81
  C 1432.79 538.01 1438.14 560.68 1442.82 583.54
  Q 1454.54 640.84 1457.76 699.26
  C 1458.87 719.28 1459.71 738.60 1458.29 758.48
  C 1454.82 807.26 1426.60 852.94 1394.81 888.81
  Q 1386.55 898.14 1379.97 909.36
  C 1376.24 915.71 1371.80 919.27 1365.56 922.56
  Q 1363.15 923.83 1357.19 930.44
  C 1331.31 959.13 1309.86 984.42 1280.55 1004.50
  Q 1205.77 1055.73 1113.93 1038.34
  Q 968.15 1010.75 941.00 1005.50
  C 919.05 1001.26 899.37 1015.68 883.95 1029.22
  Q 865.12 1045.77 855.81 1054.56
  Z
  M 904.62 224.36
  C 979.74 251.17 1054.65 277.70 1129.87 304.47
  A 2.32 2.32 -59.4 0 0 1132.39 303.82
  Q 1142.78 292.10 1157.20 289.18
  A 1.69 1.68 -88.6 0 0 1158.50 287.94
  Q 1162.72 270.88 1166.81 253.55
  C 1167.91 248.91 1167.65 249.12 1164.00 245.71
  C 1117.56 202.33 1057.49 181.09 994.77 176.81
  Q 847.55 166.76 700.00 165.10
  Q 699.97 165.10 680.01 164.74
  Q 636.59 163.94 592.07 169.20
  A 1.52 1.51 89.5 0 0 590.74 170.56
  C 590.67 171.19 819.75 207.20 840.67 210.49
  Q 842.48 210.77 843.43 209.20
  C 860.82 180.29 899.16 189.44 903.31 222.73
  A 1.99 1.99 6.2 0 0 904.62 224.36
  Z
  M 611.93 380.44
  Q 621.77 382.94 632.73 387.87
  A 1.53 1.51 -51.2 0 0 634.26 387.69
  Q 716.24 326.07 798.09 263.60
  Q 815.60 250.22 833.32 237.11
  C 835.79 235.28 838.03 233.63 839.40 230.99
  Q 840.61 228.65 838.01 228.25
  L 584.91 189.41
  A 1.22 1.22 -85.3 0 0 583.50 190.61
  Q 583.39 204.99 571.30 213.08
  C 567.58 215.57 567.74 215.30 569.01 220.13
  Q 588.92 296.43 609.02 372.67
  C 609.51 374.55 609.32 377.85 611.10 379.94
  A 1.79 1.43 -7.6 0 0 611.93 380.44
  Z
  M 522.20 204.93
  C 452.65 267.18 385.35 332.12 320.56 399.31
  C 318.49 401.46 318.26 402.52 319.50 405.43
  C 323.89 415.72 320.71 423.26 314.56 431.82
  Q 313.53 433.25 314.56 434.68
  Q 349.49 483.39 386.17 530.80
  C 389.49 535.09 396.56 544.69 401.20 547.01
  Q 403.03 547.92 403.79 546.01
  Q 467.14 385.01 528.02 223.84
  C 531.04 215.84 533.97 210.28 526.95 204.77
  Q 524.51 202.86 522.20 204.93
  Z
  M 532.08 262.10
  Q 477.44 405.00 421.69 547.48
  Q 420.86 549.60 420.31 551.82
  Q 419.89 553.50 421.43 552.69
  Q 424.08 551.29 426.43 549.46
  Q 504.01 489.03 580.51 429.38
  Q 582.48 427.85 581.62 425.51
  C 575.38 408.41 580.46 396.05 593.76 385.38
  A 1.41 1.39 63.2 0 0 594.23 383.92
  Q 575.43 315.10 557.36 246.01
  C 555.43 238.62 553.61 230.30 550.68 222.55
  Q 549.59 219.66 548.25 222.44
  C 542.01 235.40 537.22 248.67 532.08 262.10
  Z
  M 1125.91 321.83
  Q 1124.96 321.18 1123.87 320.79
  C 1050.17 294.53 976.16 269.05 902.56 242.46
  C 899.05 241.19 898.46 240.65 896.27 244.20
  Q 890.52 253.49 877.54 254.97
  A 2.36 2.35 2.6 0 0 875.51 256.82
  Q 849.30 381.04 823.12 505.53
  Q 822.27 509.60 825.92 508.13
  Q 833.51 505.06 840.46 500.72
  Q 982.70 411.68 1125.80 324.05
  Q 1127.56 322.97 1125.91 321.83
  Z
  M 439.68 563.00
  Q 608.12 543.36 776.52 523.41
  C 779.78 523.03 781.39 522.26 782.84 519.43
  C 787.32 510.69 794.59 505.34 804.36 503.25
  A 1.91 1.91 -89.9 0 0 805.82 501.79
  L 858.18 256.58
  A 2.88 2.86 27.3 0 0 857.31 253.87
  Q 853.82 250.68 850.15 249.38
  Q 847.41 248.41 844.95 249.95
  Q 840.77 252.55 836.30 256.00
  Q 740.91 329.67 644.69 402.24
  C 642.06 404.22 641.19 404.16 641.50 407.50
  Q 642.15 414.46 640.11 421.61
  C 635.44 438.01 622.84 443.94 606.50 443.65
  C 602.15 443.57 599.03 440.03 594.52 441.23
  Q 592.59 441.75 589.01 444.59
  Q 514.51 503.66 439.21 561.72
  Q 438.48 562.29 438.81 562.75
  A 1.03 0.63 -15.2 0 0 439.68 563.00
  Z
  M 1361.35 454.62
  C 1309.10 387.05 1248.84 322.77 1187.34 266.64
  Q 1185.82 265.26 1183.66 263.94
  Q 1181.50 262.63 1180.87 265.08
  Q 1177.69 277.51 1174.54 289.69
  Q 1173.69 292.97 1176.31 294.69
  Q 1193.18 305.71 1191.92 325.55
  C 1191.79 327.59 1189.93 331.56 1192.56 333.44
  Q 1292.20 404.38 1359.99 455.72
  C 1360.84 456.37 1363.12 456.91 1361.35 454.62
  Z
  M 839.81 525.48
  C 843.81 541.24 837.02 553.39 825.08 562.98
  A 1.74 1.74 68.3 0 0 824.43 564.49
  Q 833.02 661.79 841.34 758.36
  C 841.70 762.57 842.25 766.39 847.20 766.27
  C 850.33 766.19 852.24 764.44 853.94 761.94
  Q 994.71 554.25 1136.89 346.68
  Q 1138.28 344.65 1136.54 342.91
  C 1134.17 340.56 1131.27 341.52 1128.48 343.07
  Q 1120.30 347.60 1105.19 356.94
  Q 973.47 438.33 842.08 520.27
  C 839.86 521.66 839.15 522.90 839.81 525.48
  Z
  M 1220.06 549.60
  C 1230.21 552.83 1237.57 560.18 1240.28 570.58
  Q 1244.41 586.49 1231.59 599.94
  A 2.54 2.53 60.9 0 0 1230.95 602.20
  Q 1252.00 700.35 1273.43 799.41
  Q 1274.55 804.61 1276.94 808.06
  C 1280.90 813.82 1285.86 809.85 1289.66 806.90
  Q 1322.09 781.74 1354.81 756.96
  C 1358.95 753.82 1362.16 751.61 1361.75 746.75
  Q 1360.31 729.65 1374.84 722.96
  A 2.45 2.43 -9.3 0 0 1376.25 721.01
  Q 1386.91 625.15 1395.57 529.11
  Q 1396.51 518.61 1395.45 513.91
  C 1393.38 504.75 1386.76 497.44 1379.40 491.86
  Q 1283.74 419.46 1185.83 350.14
  Q 1183.67 348.61 1180.70 347.13
  Q 1177.92 345.75 1177.56 348.84
  Q 1177.16 352.27 1177.89 355.67
  Q 1198.55 451.94 1219.48 548.97
  A 0.87 0.86 2.4 0 0 1220.06 549.60
  Z
  M 1185.64 590.87
  C 1178.79 574.38 1184.90 557.36 1201.36 550.69
  A 0.89 0.88 -17.3 0 0 1201.90 549.67
  Q 1182.46 460.38 1162.76 371.00
  Q 1161.21 363.99 1159.27 357.08
  C 1156.39 346.83 1147.85 360.24 1145.66 363.46
  C 1054.78 497.11 963.49 630.52 873.24 764.58
  C 869.42 770.26 866.43 775.40 863.56 781.12
  A 2.89 2.87 -45.2 0 0 863.56 783.67
  C 868.97 794.64 867.87 805.13 860.52 814.58
  Q 859.17 816.31 858.21 818.30
  A 1.05 1.03 -45.7 0 0 858.21 819.19
  L 909.77 927.03
  A 1.90 1.78 81.1 0 0 911.10 928.07
  L 925.98 930.75
  A 1.15 1.10 -65.7 0 0 927.05 930.32
  L 1042.33 784.58
  A 1.47 1.46 47.8 0 0 1042.41 782.90
  C 1036.58 773.69 1036.63 763.63 1043.73 755.25
  Q 1052.44 744.96 1068.52 748.68
  A 0.98 0.98 -65.3 0 0 1069.52 748.31
  L 1185.43 592.53
  A 1.68 1.68 -37.8 0 0 1185.64 590.87
  Z
  M 294.79 439.67
  C 290.21 436.45 288.13 439.48 285.07 443.13
  C 255.42 478.51 227.88 516.05 205.70 555.64
  C 191.60 580.80 180.01 607.60 173.50 635.76
  A 0.77 0.76 -78.8 0 0 174.12 636.70
  Q 185.97 638.61 194.95 645.89
  A 2.91 2.91 -33.0 0 0 197.53 646.44
  Q 204.44 644.60 210.41 642.27
  Q 288.30 611.94 367.61 582.17
  Q 369.18 581.58 369.29 579.91
  Q 370.17 567.11 378.72 557.28
  C 381.17 554.47 382.77 553.79 380.25 550.50
  Q 338.67 496.10 296.69 441.50
  Q 295.88 440.44 294.79 439.67
  Z
  M 335.69 763.39
  A 1.33 1.31 -40.3 0 0 337.02 763.49
  L 556.18 654.76
  A 2.32 2.32 74.4 0 0 557.46 652.49
  C 555.11 625.24 582.42 604.63 606.79 621.25
  C 613.28 625.68 613.05 625.69 620.13 622.16
  Q 696.72 583.98 773.17 545.54
  Q 774.76 544.73 775.50 543.63
  Q 776.40 542.27 774.77 542.25
  Q 770.13 542.18 765.55 542.69
  Q 600.00 561.02 435.16 582.27
  Q 433.20 582.52 432.76 584.45
  C 430.01 596.57 419.34 609.50 405.75 609.24
  C 398.41 609.11 397.84 612.90 395.61 618.30
  Q 366.11 689.89 335.34 760.93
  Q 334.60 762.62 335.69 763.39
  Z
  M 346.17 780.56
  C 351.97 782.71 360.80 782.42 367.00 782.48
  Q 535.12 784.15 703.25 785.38
  Q 753.25 785.75 802.92 785.75
  A 2.15 2.14 -78.3 0 0 804.89 784.45
  Q 810.26 772.05 821.57 765.48
  Q 823.77 764.20 823.50 761.00
  Q 815.31 665.78 807.25 570.56
  Q 806.97 567.22 804.09 566.99
  C 798.32 566.52 793.51 564.16 789.44 560.06
  Q 787.66 557.77 784.56 559.31
  Q 703.63 599.64 621.85 640.35
  Q 620.11 641.22 620.41 643.15
  C 622.91 659.29 613.79 673.56 598.69 678.54
  C 586.75 682.47 575.26 676.87 565.17 671.05
  A 2.59 2.58 46.4 0 0 562.72 670.99
  Q 455.98 724.97 347.88 777.06
  Q 346.38 777.78 345.69 778.53
  A 1.26 1.25 31.8 0 0 346.17 780.56
  Z
  M 1394.89 723.66
  C 1404.13 730.41 1410.93 742.58 1405.19 753.69
  C 1400.53 762.69 1392.20 766.86 1382.25 766.79
  C 1377.46 766.75 1373.49 764.80 1369.56 767.81
  Q 1333.64 795.37 1297.80 823.07
  A 1.86 1.86 -32.0 0 0 1297.27 825.36
  Q 1303.61 838.19 1299.10 851.94
  Q 1298.50 853.78 1300.03 854.97
  Q 1317.13 868.26 1334.02 881.24
  C 1338.12 884.38 1341.65 881.43 1345.09 879.41
  Q 1355.60 873.22 1367.51 875.83
  C 1370.33 876.45 1371.41 877.35 1373.69 874.69
  C 1403.97 839.37 1429.34 804.80 1433.85 756.73
  Q 1434.59 748.83 1434.48 736.75
  C 1433.94 678.51 1426.34 617.20 1412.66 560.92
  C 1411.93 557.89 1410.42 558.79 1410.17 561.25
  Q 1401.99 641.98 1394.29 722.33
  A 1.47 1.46 -69.5 0 0 1394.89 723.66
  Z
  M 197.18 686.30
  C 228.42 711.16 259.84 735.82 291.27 760.43
  C 294.97 763.32 295.89 761.72 299.28 760.07
  Q 306.60 756.52 315.50 757.59
  Q 317.46 757.83 318.47 756.14
  Q 319.70 754.07 320.98 751.14
  Q 350.25 683.91 378.20 616.12
  C 381.84 607.29 385.31 594.32 368.26 600.78
  Q 285.44 632.18 203.50 663.80
  A 1.72 1.72 -13.3 0 0 202.41 665.56
  Q 203.47 676.63 196.97 683.88
  A 1.67 1.67 40.1 0 0 197.18 686.30
  Z
  M 938.88 945.04
  A 2.87 2.84 44.4 0 0 940.67 945.03
  L 1237.29 843.31
  A 1.05 1.04 -9.2 0 0 1238.00 842.34
  Q 1238.40 821.48 1256.44 811.24
  A 1.99 1.98 -20.8 0 0 1257.41 809.09
  L 1214.48 607.99
  A 0.83 0.82 82.2 0 0 1213.63 607.34
  Q 1204.68 607.76 1196.14 602.69
  A 0.76 0.75 -56.1 0 0 1195.15 602.89
  L 1080.02 757.71
  A 0.93 0.91 50.1 0 0 1079.94 758.69
  C 1088.75 775.88 1076.01 794.11 1056.82 791.76
  A 1.42 1.40 -69.2 0 0 1055.47 792.38
  Q 1038.06 818.81 1018.17 843.34
  C 992.66 874.81 967.68 906.67 941.99 938.00
  C 941.22 938.94 936.45 944.26 938.88 945.04
  Z
  M 257.94 925.81
  C 260.04 930.71 286.37 993.70 292.55 977.17
  Q 293.35 975.03 293.50 972.50
  Q 297.80 897.91 300.82 821.47
  Q 300.90 819.42 299.22 818.23
  Q 280.01 804.73 284.12 779.51
  Q 284.51 777.12 282.60 775.63
  Q 233.82 737.67 184.28 699.25
  C 181.04 696.73 175.07 695.06 177.25 702.50
  Q 210.08 814.48 257.94 925.81
  Z
  M 348.80 805.76
  Q 431.10 857.18 513.52 908.43
  C 516.38 910.20 518.39 911.62 521.25 910.50
  Q 672.66 851.45 798.66 805.37
  Q 799.55 805.05 799.33 804.61
  A 0.99 0.57 -6.4 0 0 798.50 804.25
  C 648.83 803.27 499.18 801.39 349.50 801.56
  C 342.36 801.57 346.86 804.55 348.80 805.76
  Z
  M 311.92 973.47
  Q 322.30 976.97 330.52 982.19
  A 3.24 3.23 -39.1 0 0 333.39 982.48
  Q 415.52 951.42 495.24 921.32
  Q 496.75 920.75 497.66 919.73
  A 0.93 0.93 36.6 0 0 497.45 918.32
  Q 424.30 873.94 352.07 828.10
  Q 340.19 820.56 336.94 819.06
  Q 328.06 814.97 320.62 821.98
  Q 318.83 823.67 318.71 826.13
  Q 315.52 890.17 312.43 955.05
  C 312.19 960.07 311.61 967.13 311.75 973.24
  A 0.24 0.24 -81.9 0 0 311.92 973.47
  Z
  M 539.17 924.55
  Q 601.02 962.55 663.18 999.99
  Q 666.11 1001.76 669.31 1000.06
  Q 681.82 993.45 695.83 996.77
  A 1.88 1.88 -66.7 0 0 697.83 995.97
  C 731.69 943.61 765.11 890.84 799.41 838.65
  Q 804.99 830.16 809.47 822.31
  Q 811.41 818.90 807.75 820.29
  L 539.44 921.68
  Q 536.38 922.84 539.17 924.55
  Z
  M 713.31 1004.81
  C 709.37 1010.98 716.30 1015.23 721.84 1013.38
  Q 799.79 987.38 877.35 962.13
  A 2.02 2.01 -5.6 0 0 878.72 960.47
  Q 880.67 944.96 893.40 936.04
  Q 895.03 934.89 894.17 933.10
  L 844.16 829.52
  A 1.46 1.33 86.9 0 0 843.48 828.85
  C 839.56 827.07 833.44 826.72 829.64 827.25
  C 824.18 828.01 823.50 831.35 821.02 835.45
  C 785.79 893.76 744.96 955.32 713.31 1004.81
  Z
  M 938.25 979.65
  Q 942.82 980.92 947.66 981.76
  C 1003.95 991.54 1059.92 1003.38 1116.15 1013.49
  Q 1129.75 1015.93 1135.91 1016.68
  C 1212.75 1026.00 1271.97 991.07 1320.86 935.10
  C 1325.30 930.01 1342.27 908.30 1334.19 902.06
  Q 1312.10 885.02 1289.59 867.68
  Q 1288.11 866.55 1286.44 867.37
  Q 1264.29 878.30 1246.53 862.11
  C 1243.57 859.41 1243.76 859.26 1239.76 860.68
  Q 1093.72 912.26 946.79 961.25
  Q 942.27 962.76 941.62 967.48
  Q 940.84 973.18 937.70 978.25
  A 0.94 0.94 23.7 0 0 938.25 979.65
  Z
  M 338.91 1003.72
  A 4.58 4.56 -25.5 0 0 341.27 1004.55
  Q 399.96 1008.23 459.50 1010.48
  Q 557.13 1014.16 654.74 1018.49
  C 659.25 1018.69 657.31 1016.60 655.59 1015.54
  Q 590.30 975.45 524.81 935.69
  C 519.55 932.50 518.21 930.85 511.56 933.36
  Q 425.67 965.81 340.10 999.06
  C 337.76 999.97 335.98 1001.66 338.91 1003.72
  Z
  M 715.44 1038.31
  Q 737.00 1047.58 759.51 1054.22
  C 785.58 1061.90 812.42 1060.80 833.01 1041.78
  C 852.96 1023.37 873.52 1006.54 892.69 991.44
  C 895.41 989.29 893.87 988.49 892.22 986.84
  Q 888.02 982.66 883.84 979.15
  A 1.51 1.49 55.6 0 0 882.39 978.87
  Q 799.23 1006.63 717.34 1034.39
  Q 715.83 1034.90 714.56 1035.81
  Q 712.72 1037.14 715.44 1038.31
  Z
  M 371.87 1024.63
  Q 362.72 1024.12 353.55 1024.07
  A 1.37 0.97 16.7 0 0 352.66 1024.37
  Q 352.06 1024.95 352.94 1025.31
  Q 402.68 1046.05 457.75 1058.75
  C 486.87 1065.47 520.41 1068.73 550.44 1064.69
  C 585.65 1059.95 621.41 1052.72 658.19 1045.99
  A 1.60 1.60 80.9 0 0 659.49 1044.19
  C 658.38 1036.23 653.35 1036.44 646.12 1036.14
  Q 467.12 1028.78 433.50 1027.25
  C 411.57 1026.25 392.11 1025.75 371.87 1024.63
  Z"
/>
</svg>

"""

# PROMPT = f"{HUMAN_PROMPT}\n Convert this SVG to a react component:  [{text}] \n {TASK} \n{AI_PROMPT}"
PROMPT = (
    f"{HUMAN_PROMPT}\n Convert this SVG to a react component:  [{TASK}] \n{AI_PROMPT}"
)

summary = anthropic.with_options(timeout=5 * 1000).completions.create(
    model="claude-1-100k",
    max_tokens_to_sample=10000,
    prompt=PROMPT,
)

# stream = anthropic.with_options(timeout=5 * 1000).completions.create(
#     model="claude-1-100k",
#     max_tokens_to_sample=10000,
#     prompt=PROMPT,
#     temperature=1,
#     stream=True,
# )
# summary = []

# for completion in stream:
#     summary.append(completion.completion)
#     print(completion.completion)

# Save the summary into another TXT file
with open(output_file_name, "w", encoding="utf-8") as file:
    file.write(summary.completion)


print(count_used_tokens(PROMPT, summary.completion))
